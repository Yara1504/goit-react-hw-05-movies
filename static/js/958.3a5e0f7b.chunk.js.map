{"version":3,"file":"static/js/958.3a5e0f7b.chunk.js","mappings":"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","sources":["components/API/API.jsx","webpack://react-homework-template/./src/components/pages/MovieDetails/MovieDetails.module.css?1b37","components/pages/MovieDetails/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const URL = 'https://api.themoviedb.org/3/';\nconst KEY = '100715b38ecee48372fe7db22d34203d';\n\nexport function getTrending() {\n  return fetch(`${URL}trending/movie/day?api_key=${KEY}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nexport function getSearch(query) {\n  return fetch(`${URL}search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nexport function getDetails(movieId) {\n  return fetch(`${URL}movie/${movieId}?api_key=${KEY}&language=en-US`)\n    .then(response => response.json());\n}\n\nexport function getCredits(movieId) {\n  return fetch(`${URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`)\n    .then(response => response.json())\n    .then(data => data.cast);\n}\n\nexport function getReviews(movieId) {\n  return fetch(`${URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`)\n    .then(response => response.json())\n    .then(data => data.results);\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__rZCdL\",\"list\":\"MovieDetails_list__WIzMC\",\"li\":\"MovieDetails_li__8iJ9Y\",\"button\":\"MovieDetails_button__JMPJI\"};","import { useEffect, useState } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getDetails } from 'components/API/API';\nimport Loader from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [info, setInfo] = useState(null);\n\n  useEffect(() => {\n\n    async function getDetailsMovies() {\n      try {\n        setLoading(true);\n        const detail = await getDetails(movieId);\n        setInfo(detail);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    getDetailsMovies();\n  }, [movieId]);\n\n    if (!info) {\n    return; \n  }\n\n  const { poster_path, title, popularity, overview, genres } = info;\n\n  return (\n    <>\n      <Link to={location.state?.from ?? '/'}>\n        <button className={css.button} type=\"button\">\n          Go back</button>\n      </Link>\n      {loading && <Loader />}\n\n      {info && (\n        <div className={css.container}>\n          <img width=\"250px\" src={`https://image.tmdb.org/t/p/w500${poster_path}`} alt={title} />\n          <div>\n            <h1>{title}</h1>\n            <p>User score: {popularity}</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <ul>\n              {genres.map(genre => (\n                <li key={genre.id}>{genre.name}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n      <hr />\n      <div>\n        <h3>Additional information</h3>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <hr />\n        <Outlet />\n        </div>\n    </>\n  );\n};\n\nexport default MovieDetails;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["URL","KEY","getTrending","fetch","concat","then","response","json","data","results","getSearch","query","getDetails","movieId","getCredits","cast","getReviews","_location$state$from","_location$state","useParams","location","useLocation","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","info","setInfo","useEffect","_getDetailsMovies","_asyncToGenerator","_regeneratorRuntime","_callee","detail","_context","prev","next","sent","t0","console","error","finish","stop","apply","arguments","getDetailsMovies","poster_path","title","popularity","overview","genres","_jsxs","_Fragment","children","_jsx","Link","to","state","from","className","css","type","Loader","width","src","alt","map","genre","name","id","Outlet","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","value","done","Promise","fn","self","this","args","err","undefined"],"sourceRoot":""}