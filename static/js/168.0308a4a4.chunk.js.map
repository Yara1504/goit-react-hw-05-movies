{"version":3,"file":"static/js/168.0308a4a4.chunk.js","mappings":"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","sources":["components/API/API.jsx","webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const URL = 'https://api.themoviedb.org/3/';\nconst KEY = '100715b38ecee48372fe7db22d34203d';\n\nexport function getTrending() {\n  return fetch(`${URL}trending/movie/day?api_key=${KEY}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nexport function getSearch(query) {\n  return fetch(`${URL}search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nexport function getDetails(movieId) {\n  return fetch(`${URL}movie/${movieId}?api_key=${KEY}&language=en-US`)\n    .then(response => response.json());\n}\n\nexport function getCredits(movieId) {\n  return fetch(`${URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`)\n    .then(response => response.json())\n    .then(data => data.cast);\n}\n\nexport function getReviews(movieId) {\n  return fetch(`${URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`)\n    .then(response => response.json())\n    .then(data => data.results);\n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__okdpy\",\"text\":\"Reviews_text__EqLvx\"};","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport css from './Reviews.module.css';\nimport Loader from 'components/Loader/Loader';\nimport { getReviews } from 'components/API/API';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    async function infoReviews() {\n      try {\n        setLoading(true);\n\n        getReviews(movieId)\n        .then(reviews => {\n          setReviews(reviews);\n        })\n      }\n      catch {\n        return \"error\";\n      }\n      finally {\n          setLoading(false);\n        };\n    };\n    infoReviews();\n  }, [movieId]);\n\n  return (\n<>\n  {loading && <Loader />}\n  {reviews.length !== 0 ? (\n    <ul>\n      {reviews.map(review => (\n        <li className={css.li} key={review.id}>\n          <h2>Author: {review.author}</h2>\n          <p className={css.text}>{review.content}</p>\n        </li>\n      ))}\n    </ul>\n  ) : (\n    <p className={css.text}>We don't have any reviews for this movie</p>\n  )}\n</>\n  );\n};\n\nexport default Reviews;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["URL","KEY","getTrending","fetch","concat","then","response","json","data","results","getSearch","query","getDetails","movieId","getCredits","cast","getReviews","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","loading","setLoading","useParams","useEffect","_infoReviews","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","t0","abrupt","finish","stop","apply","arguments","infoReviews","_jsxs","_Fragment","children","_jsx","Loader","length","map","review","className","css","author","content","id","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","fn","self","this","args","err","undefined"],"sourceRoot":""}